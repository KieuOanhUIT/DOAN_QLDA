<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slideshow</title>
    <link rel="stylesheet" href="trangchu.css">
    <link rel="stylesheet" href="/pages/Header_Footer/header.css" />
    <link rel="stylesheet" href="/pages/Header_Footer/footer.css" />
</head>

<script>
    window.onload = function () {
        // Include Header
        fetch("/pages/Header_Footer/header.html")
            .then((response) => response.text())
            .then((data) => {
                document.querySelector("#header").innerHTML = data;
                initializeListeners(); // Initialize listeners after header loaded
            });

        // Include Footer
        fetch("/pages/Header_Footer/footer.html")
            .then((response) => response.text())
            .then((data) => {
                document.querySelector("#footer").innerHTML = data;
            });
    };
</script>

<header>
    <!-- Include Header -->
    <div id="header"></div>
</header>

<body>


    <main>
        <!-- Slideshow Section -->
        <div class="slideshow-container">
            <img class="slide" src="https://i.pinimg.com/564x/f3/15/e7/f315e797ccd5778f477c319f97d1d14e.jpg"
                alt="Slide 1">
            <img class="slide" src="https://i.pinimg.com/564x/42/60/6a/42606a8ecd3cc554ee27111d979b8eb5.jpg"
                alt="Slide 2">
            <img class="slide" src="https://i.pinimg.com/564x/64/7f/f2/647ff2bfe7dbb3f9f49bd134a47d065b.jpg"
                alt="Slide 3">
            <div class="slide birthday-slide">
                <img src="https://i.pinimg.com/736x/af/60/4c/af604cc405f862cb47020ecd0bc28829.jpg" alt="Kiều Oanh"
                    class="profile-pic">
                <div class="caption">Happy Birthday, Trần Thị Kiều Oanh!</div>
                <div class="caption">04/06/2024</div>
            </div>
        </div>
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>

        <!-- Search Section -->
        <div class="search-container">
            <div class="search-text">Tìm kiếm</div>
            <div class="search-box">
                <input type="text" class="search-input" placeholder="Search...">
            </div>
            <div class="search-text1">Search for this site</div>
        </div>

        <!-- Main Content -->
        <div class="main-container">
            <!-- Info Box Section -->
            <section class="info-box">
                <h1>THÔNG TIN</h1>
                <img src="https://i.pinimg.com/564x/b9/bd/9f/b9bd9fb452c6c863d3bf00ae09e84c35.jpg" alt="Ảnh thông tin"
                    style="width: 650px;">
                <h2>Cổng thông tin của Công ty Sản xuất - Thương mại TUFO</h2>
                <div class="info-content">
                    <h3>Thông báo của công ty đến nhân viên</h3>
                    <ul>
                        <li>Thông báo về chính sách mới của công ty.</li>
                        <li>Các thông tin quan trọng về hoạt động kinh doanh.</li>
                        <li>Thông tin về sự kiện và hoạt động trong công ty.</li>
                    </ul>
                    <h3>Kế hoạch năm</h3>
                    <ul>
                        <li>Kế hoạch sản xuất và kinh doanh trong năm.</li>
                        <li>Các chương trình đào tạo và phát triển nhân viên.</li>
                        <li>Thông tin về các dự án mới và mục tiêu trong năm.</li>
                    </ul>
                </div>
            </section>

            <!-- Highlight Box Section -->
            <section class="highlight-box">
                <h4>TIN NỔI BẬT</h4>
                <img src="https://i.pinimg.com/564x/a3/42/ee/a342eebfb750f95aab988b873a0115e4.jpg" alt="Ảnh nổi bật"
                    style="width: 650px;">
                <div class="highlight-content">
                    <ul>
                        <li>Thông báo nghỉ lễ 30/4 - 1/5.</li>
                        <li>Thông điệp chào mừng năm mới - Xuân giáp Thìn 2024.</li>
                    </ul>
                </div>
            </section>
        </div>
    </main>

    <script src="trangchu.js"></script>

    <footer>
        <!-- Include Footer -->
        <div id="footer"></div>
    </footer>

    <script>
        window.onload = function () {
            // Include Header
            fetch("/pages/Header_Footer/header.html")
                .then(response => response.text())
                .then(data => document.querySelector("#header").innerHTML = data);

            // Include Footer
            fetch("/pages/Header_Footer/footer.html")
                .then(response => response.text())
                .then(data => document.querySelector("#footer").innerHTML = data);

            // Initialize and show the slides
            showSlides();
        }

        var slideIndex = 0;
        function showSlides() {
            var slides = document.getElementsByClassName("slide");

            // Hide all slides
            for (var i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }

            // Increase slideIndex and reset if needed
            slideIndex++;
            if (slideIndex > slides.length) {
                slideIndex = 1;
            }

            // Show the current slide
            slides[slideIndex - 1].style.display = "block";

            // Call showSlides() again after 10 seconds
            setTimeout(showSlides, 10000);
        }

        function plusSlides(n) {
            var slides = document.getElementsByClassName("slide");
            slideIndex += n;

            // Ensure slideIndex stays within bounds
            if (slideIndex > slides.length) {
                slideIndex = 1;
            }
            if (slideIndex < 1) {
                slideIndex = slides.length;
            }

            // Hide all slides
            for (var i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }

            // Show the current slide
            slides[slideIndex - 1].style.display = "block";
        }

        document.addEventListener("DOMContentLoaded", function () {
            var input = document.querySelector('.search-input');

            // Lắng nghe sự kiện keyup trong ô tìm kiếm
            input.addEventListener("keyup", function (event) {
                // Kiểm tra xem phím được nhấn có phải là phím Enter không (keyCode = 13 hoặc key = "Enter" với sự kiện mới)
                if (event.keyCode === 13 || event.key === "Enter") {
                    // Ngăn chặn hành vi mặc định của phím Enter
                    event.preventDefault();
                    // Thực hiện chức năng tìm kiếm và hiển thị kết quả
                    filterResults();
                }
            });
        });



        function filterResults() {
            var input, filter, mainContent, sections, i, j, section, ul, li, txtValue;
            input = document.querySelector('.search-input');
            filter = input.value.toLowerCase();
            mainContent = document.getElementById("main-content");
            sections = mainContent.getElementsByTagName('section');

            for (i = 0; i < sections.length; i++) {
                section = sections[i];
                ul = section.getElementsByTagName('ul');
                for (j = 0; j < ul.length; j++) {
                    li = ul[j].getElementsByTagName('li');
                    for (var k = 0; k < li.length; k++) {
                        txtValue = li[k].textContent || li[k].innerText;
                        if (txtValue.toLowerCase().indexOf(filter) > -1) {
                            li[k].style.display = "";
                            // Highlight nổi bật cho các phần tử được tìm thấy
                            li[k].classList.add('highlight');
                        } else {
                            li[k].style.display = "none";
                            // Xóa highlight cho các phần tử không được tìm thấy
                            li[k].classList.remove('highlight');
                        }
                    }
                }
            }

            // Ẩn hoặc hiện chữ "Search for this site" tùy thuộc vào trạng thái của ô tìm kiếm
            var searchPlaceholder = document.querySelector('.search-text1');
            searchPlaceholder.style.display = filter ? 'none' : 'block';
        }



    </script>
</body>

</html>